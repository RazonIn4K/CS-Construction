# ==============================================================================
# CS-Construction Docker Stack - Environment Variables Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
#
# To generate secure random strings:
#   openssl rand -hex 32       # For N8N_ENCRYPTION_KEY
#   openssl rand -base64 32    # For passwords
#   php -r "echo base64_encode(random_bytes(32));"  # For APP_KEY
# ==============================================================================

# ==============================================================================
# TIMEZONE CONFIGURATION
# ==============================================================================
TZ=America/Chicago

# ==============================================================================
# DATABASE CONFIGURATION (MariaDB)
# ==============================================================================
DB_ROOT_PASSWORD=CHANGE_ME_STRONG_ROOT_PASSWORD
DB_DATABASE=ninjadb
DB_USER=ninja
DB_PASSWORD=CHANGE_ME_STRONG_USER_PASSWORD

# ==============================================================================
# INVOICE NINJA CONFIGURATION
# ==============================================================================

# Application URL (must match your domain)
INVOICENINJA_URL=https://portal.cdhomeimprovementsrockford.com

# Application Key (generate with: php artisan key:generate)
# Format: base64:YOUR_32_CHAR_BASE64_ENCODED_STRING
INVOICENINJA_APP_KEY=base64:GENERATE_WITH_php_artisan_key_generate

# Debug mode (ALWAYS false in production)
APP_DEBUG=false

# ------------------------------------------------------------------------------
# Mail Configuration (Postmark recommended)
# ------------------------------------------------------------------------------
MAIL_HOST=smtp.postmarkapp.com
MAIL_PORT=587
MAIL_USERNAME=your-postmark-server-token
MAIL_PASSWORD=your-postmark-server-token
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@cdhomeimprovementsrockford.com
MAIL_FROM_NAME="CD Home Improvements"

# Alternative: SendGrid
# MAIL_HOST=smtp.sendgrid.net
# MAIL_PORT=587
# MAIL_USERNAME=apikey
# MAIL_PASSWORD=SG.your-sendgrid-api-key
# MAIL_ENCRYPTION=tls

# ------------------------------------------------------------------------------
# Stripe Integration
# ------------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys

# Test Mode (for development)
# STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_TEST_KEY
# STRIPE_SECRET_KEY=sk_test_YOUR_TEST_KEY

# Live Mode (for production)
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_LIVE_KEY
STRIPE_SECRET_KEY=sk_live_YOUR_LIVE_KEY

# ==============================================================================
# N8N WORKFLOW AUTOMATION CONFIGURATION
# ==============================================================================

# Host Configuration
N8N_HOST=automate.cdhomeimprovementsrockford.com
N8N_WEBHOOK_URL=https://automate.cdhomeimprovementsrockford.com/

# Security - CRITICAL: Generate a secure random 64-character hex string
# Command: openssl rand -hex 32
# WARNING: Once set, NEVER change this or all saved credentials will break!
N8N_ENCRYPTION_KEY=GENERATE_WITH_openssl_rand_hex_32

# Basic Authentication (protects the n8n UI)
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ==============================================================================
# OPTIONAL: ADDITIONAL SERVICES
# ==============================================================================

# ------------------------------------------------------------------------------
# Twilio (SMS Notifications) - Optional
# ------------------------------------------------------------------------------
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ------------------------------------------------------------------------------
# Sentry (Error Tracking) - Optional but Recommended
# ------------------------------------------------------------------------------
# SENTRY_DSN=https://your-key@o123456.ingest.sentry.io/789012

# ==============================================================================
# PRODUCTION CHECKLIST
# ==============================================================================
# Before deploying to production:
#
# [ ] Changed all passwords from defaults
# [ ] Generated secure INVOICENINJA_APP_KEY
# [ ] Generated secure N8N_ENCRYPTION_KEY (64 hex chars)
# [ ] Set Stripe keys to LIVE mode (pk_live_, sk_live_)
# [ ] Configured mail server credentials
# [ ] Updated all domain names to your actual domains
# [ ] Set APP_DEBUG=false
# [ ] Backed up this .env file to a secure location
# [ ] Set file permissions: chmod 600 .env
# [ ] Tested Stripe webhooks in production
# [ ] Verified Let's Encrypt certificates issued
# [ ] Configured DNS A records for all subdomains
#
# ==============================================================================
